<domain>

  <name>vbms-rating</name>
  <systemuser>vbms.wl</systemuser>
  <configuration>test</configuration>
  <autodeploy>true</autodeploy>
  <autodomain>true</autodomain>
  <liquibase>true</liquibase>
  <liquibase_baseline>true</liquibase_baseline>
  <classpath>/opt/vbms/config</classpath>

  <adminserver>
    <name>AdminServer</name>
    <hostname>vbr-tst-ap101.test.vbms.aide.oit.va.gov</hostname>
    <port>7001</port>
    <sslport>7002</sslport>
    <username>weblogic</username>
    <password>{WL_TOKEN}</password>
  </adminserver>

  <res>
    <host>vbr-tst-ap102.test.vbms.aide.oit.va.gov</host>
    <port>8101</port>
    <username>resAdmin</username>
    <password>resAdmin1</password>
  </res>

  <machines>
    <machine>
      <hostname>vbr-tst-ap101.test.vbms.aide.oit.va.gov</hostname>
    </machine>
    <machine>
      <hostname>vbr-tst-ap102.test.vbms.aide.oit.va.gov</hostname>
    </machine>
    <machine>
      <hostname>vbr-tst-ap103.test.vbms.aide.oit.va.gov</hostname>
    </machine>
    <machine>
      <hostname>vbr-tst-ap104.test.vbms.aide.oit.va.gov</hostname>
    </machine>
  </machines>

  <clusters>
    <cluster>
      <name>rating-cluster</name>
      <jvmargs>-Xms2560m -Xmx2560m -XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSParallelRemarkEnabled -XX:+UseCMSCompactAtFullCollection -XX:CMSFullGCsBeforeCompaction=1 -XX:SurvivorRatio=5 -Dweblogic.ProductionModeEnabled=true -Djava.awt.headless=true -Dweblogic.log.Log4jLoggingEnabled=true -Drating.jms.consumer.fallback=true -Djava.io.tmpdir=/tmp/Rating -Dweblogic.security.SSL.minimumProtocolVersion=TLSv1.2 -Dweblogic.transaction.allowOverrideSetRollbackReason=true -Dweblogic.MaxMessageSize=20000000 -XX:+HeapDumpOnOutOfMemoryError -XX:HeapDumpPath=/opt/vbms -Xdebug -Xrunjdwp:transport=dt_socket,address=8020,server=y,suspend=n</jvmargs>
      <customkeystore>
        <name>/opt/vbms/config/keystore/test.vbms.aide.oit.va.gov.jks</name>
        <pass>vbmskey</pass>
        <privatekeyalias>test.vbms.aide.oit.va.gov</privatekeyalias>
        <privatekeypass>vbmskey</privatekeypass>
      </customkeystore>
    </cluster>
    <cluster>
      <name>odm-cluster</name>
      <jvmargs>-Xms1024m -Xmx2048m -Dcom.sun.xml.bind.v2.bytecode.ClassTailor.noOptimize=true</jvmargs>
    </cluster>
  </clusters>

  <managedservers>
    <managedserver>
      <name>rating-ap102</name>
      <cluster>rating-cluster</cluster>
      <hostname>vbr-tst-ap102.test.vbms.aide.oit.va.gov</hostname>
      <port>8001</port>
      <sslport>8002</sslport>
    </managedserver>
    <managedserver>
      <name>rating-ap103</name>
      <cluster>rating-cluster</cluster>
      <hostname>vbr-tst-ap103.test.vbms.aide.oit.va.gov</hostname>
      <port>8001</port>
      <sslport>8002</sslport>
    </managedserver>
    <managedserver>
      <name>rating-ap104</name>
      <cluster>rating-cluster</cluster>
      <hostname>vbr-tst-ap104.test.vbms.aide.oit.va.gov</hostname>
      <port>8001</port>
      <sslport>8002</sslport>
    </managedserver>

    <managedserver>
      <name>odm-ap102</name>
      <cluster>odm-cluster</cluster>
      <hostname>vbr-tst-ap102.test.vbms.aide.oit.va.gov</hostname>
      <port>8101</port>
      <sslport>8102</sslport>
    </managedserver>
    <managedserver>
      <name>odm-ap103</name>
      <cluster>odm-cluster</cluster>
      <hostname>vbr-tst-ap103.test.vbms.aide.oit.va.gov</hostname>
      <port>8101</port>
      <sslport>8102</sslport>
    </managedserver>
    <managedserver>
      <name>odm-ap104</name>
      <cluster>odm-cluster</cluster>
      <hostname>vbr-tst-ap104.test.vbms.aide.oit.va.gov</hostname>
      <port>8101</port>
      <sslport>8102</sslport>
    </managedserver>
  </managedservers>

  <database>
    <liquibase>
      <ojdbcdriver>oracle.jdbc.OracleDriver</ojdbcdriver>
      <ojdbcdriverpath>/opt/vbms/weblogic/oracle_common/modules/oracle.jdbc/ojdbc8.jar</ojdbcdriverpath>
      <user>liquibase_admin</user>
      <pass>xzY&lt;g05882$oHN!9z</pass>
    </liquibase>
    <schemas>
      <schema>
        <user>rtng_app</user>
        <pass>zJPvyJ#QN7m4p_D40</pass>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
      </schema>
      <schema>
        <user>rtng_frgmt</user>
        <pass>mH9cnjpe19ZHdt_9#</pass>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
      </schema>
      <schema>
        <user>rtng_archive</user>
        <pass>X_0762b6H_l2A0_A_5</pass>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
      </schema>
      <schema>
        <user>vbms_term</user>
        <pass>EqDY5XvxS#QbG_P8u</pass>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
      </schema>
      <schema>
        <user>rtng_rptg</user>
        <pass>fUs6Cath0#RepRu_a</pass>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
      </schema>
      <schema>
        <user>rtng_dvs</user>
        <pass>vbms_dvs-TST#2015</pass>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
      </schema>
      <schema>
        <user>vbms_rating</user>
        <pass>vbms_rtng-TST#2015</pass>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
      </schema>
      <schema>
        <user>vbms_soc</user>
        <pass>#GZ2IisAztG3u91U$</pass>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
      </schema>
    </schemas>
    <datasources>
      <datasource>
        <name>RDB-JMS</name>
        <user>rtng_user</user>
        <pass>Florida#123Washington$456</pass>
        <jndi>rtng.jdbc.DataSource.JMS</jndi>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
        <target>rating-cluster</target>
        <driver>oracle.jdbc.OracleDriver</driver>
        <globaltxprotocol>None</globaltxprotocol>
        <usexadatasourceinterface>false</usexadatasourceinterface>
        <initialcapacity>1</initialcapacity>
        <maxcapacity>15</maxcapacity>
        <capacityincrement>1</capacityincrement>
      </datasource>
      <datasource>
        <name>RDB-OLTP</name>
        <user>rtng_user</user>
        <pass>Florida#123Washington$456</pass>
        <jndi>rtng.jdbc.DataSource.OLTP</jndi>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
        <target>rating-cluster</target>
        <driver>oracle.jdbc.OracleDriver</driver>
        <globaltxprotocol>EmulateTwoPhaseCommit</globaltxprotocol>
        <usexadatasourceinterface>true</usexadatasourceinterface>
        <initialcapacity>5</initialcapacity>
        <maxcapacity>50</maxcapacity>
        <capacityincrement>5</capacityincrement>
      </datasource>
      <datasource>
        <name>RDB-WORKFLOW</name>
        <user>vbms_workflow</user>
        <pass>Florida#123Washington$456</pass>
        <jndi>jdbc/WorkFlowDS</jndi>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
        <target>rating-cluster</target>
        <driver>oracle.jdbc.OracleDriver</driver>
        <globaltxprotocol>EmulateTwoPhaseCommit</globaltxprotocol>
        <usexadatasourceinterface>true</usexadatasourceinterface>
        <initialcapacity>5</initialcapacity>
        <maxcapacity>50</maxcapacity>
        <capacityincrement>5</capacityincrement>
      </datasource>
      <datasource>
        <name>SOC</name>
        <user>rtng_user</user>
        <pass>Florida#123Washington$456</pass>
        <jndi>jdbc/socDatasource</jndi>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
        <target>rating-cluster</target>
        <driver>oracle.jdbc.OracleDriver</driver>
        <globaltxprotocol>EmulateTwoPhaseCommit</globaltxprotocol>
        <usexadatasourceinterface>true</usexadatasourceinterface>
        <initialcapacity>1</initialcapacity>
        <maxcapacity>15</maxcapacity>
        <capacityincrement>1</capacityincrement>
      </datasource>
      <datasource>
        <name>Rules-RES</name>
        <user>vbms_wodm</user>
        <pass>Florida#123Washington$456</pass>
        <jndi>jdbc/resdatasource</jndi>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
        <target>odm-cluster</target>
        <driver>oracle.jdbc.OracleDriver</driver>
        <globaltxprotocol>EmulateTwoPhaseCommit</globaltxprotocol>
        <usexadatasourceinterface>true</usexadatasourceinterface>
        <initialcapacity>5</initialcapacity>
        <maxcapacity>50</maxcapacity>
        <capacityincrement>5</capacityincrement>
      </datasource>
      <datasource>
        <name>Rules-RTS</name>
        <user>vbms_wodm</user>
        <pass>Florida#123Washington$456</pass>
        <jndi>jdbc/ilogDataSource</jndi>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
        <target>odm-cluster</target>
        <driver>oracle.jdbc.OracleDriver</driver>
        <globaltxprotocol>EmulateTwoPhaseCommit</globaltxprotocol>
        <usexadatasourceinterface>true</usexadatasourceinterface>
        <initialcapacity>5</initialcapacity>
        <maxcapacity>50</maxcapacity>
        <capacityincrement>5</capacityincrement>
      </datasource>
      <datasource>
        <name>LiquibaseAdmin</name>
        <user>liquibase_admin</user>
        <pass>xzY&lt;g05882$oHN!9z</pass>
        <jndi>Liquibase</jndi>
        <url>jdbc:oracle:thin:@vb-tst-db101.test.vbms.aide.oit.va.gov:1521:t1fnet</url>
        <target>rating-cluster</target>
        <driver>oracle.jdbc.OracleDriver</driver>
        <globaltxprotocol>EmulateTwoPhaseCommit</globaltxprotocol>
        <usexadatasourceinterface>true</usexadatasourceinterface>
        <initialcapacity>5</initialcapacity>
        <maxcapacity>50</maxcapacity>
        <capacityincrement>5</capacityincrement>
      </datasource>
    </datasources>
  </database>

  <filestores>
    <filestore>
      <name>rating-jms-filestore</name>
      <target>rating-ap102</target>
    </filestore>
  </filestores>

  <jms>
    <jmsservers>
      <jmsserver>
        <name>rating-jms-server</name>
        <target>rating-ap102</target>
        <store>rating-jms-filestore</store>
      </jmsserver>
    </jmsservers>
    <jmsmodules>
      <jmsmodule>
        <name>Rating</name>
        <jmsserver>rating-jms-server</jmsserver>
        <target>rating-cluster</target>
        <jmsconnections>
          <jmsconnection>
            <name>ConnectionFactory</name>
            <jndiname>rtng.jms.ConnectionFactory</jndiname>
          </jmsconnection>
        </jmsconnections>
        <jmstopics>
          <jmstopic>
            <name>BroadcastTopic</name>
            <jndiname>rtng.jms.topic.broadcast</jndiname>
            <errordestination>ErrorQueue</errordestination>
          </jmstopic>
        </jmstopics>
        <jmsqueues>
          <jmsqueue>
            <name>ErrorQueue</name>
            <jndiname>rtng.jms.queue.error</jndiname>
            <redeliveryLimit>-1</redeliveryLimit>
          </jmsqueue>
        </jmsqueues>
      </jmsmodule>
    </jmsmodules>
  </jms>

  <deployments>
    <deployment>
      <artifact>ratings/rating.ear</artifact>
      <target>rating-cluster</target>
    </deployment>
    <deployment>
      <artifact>soc/soc.war</artifact>
      <target>rating-cluster</target>
    </deployment>
    <deployment>
      <artifact>rfs/rating-fragment-service.war</artifact>
      <target>rating-cluster</target>
    </deployment>
    <deployment>
      <artifact>odm/odm-execution-server.ear</artifact>
      <target>odm-cluster</target>
    </deployment>
    <deployment>
      <artifact>odm/jrules-res-management-WL12.ear</artifact>
      <target>odm-cluster</target>
    </deployment>
    <deployment>
      <artifact>odm/jrules-res-xu-WL12.rar</artifact>
      <target>odm-cluster</target>
    </deployment>
  </deployments>

</domain>
